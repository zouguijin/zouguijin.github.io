<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>leetcode122 Best Time to Buy and Sell Stock II | StarSea</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><!-- gallery that comes before the header--><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a href="/" class="sidebar-nav-item active">Home</a><a href="/archives" class="sidebar-nav-item">Archives</a><a href="/about" class="sidebar-nav-item">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/DynamicProgramming/">DynamicProgramming</a><a class="post-tag-link" href="/tags/array/">array</a><a class="post-tag-link" href="/tags/leetcode/">leetcode</a></div><div class="post-time">2017-09-04</div></div></div><div class="container post-header"><h1>leetcode122 Best Time to Buy and Sell Stock II</h1></div><div class="container post-content"><h2 id="leetcode-122-Best-Time-to-Buy-and-Sell-Stock-II"><a href="#leetcode-122-Best-Time-to-Buy-and-Sell-Stock-II" class="headerlink" title="leetcode#122 Best Time to Buy and Sell Stock II"></a>leetcode#122 Best Time to Buy and Sell Stock II</h2><blockquote>
<p>Say you have an array for which the <em>i</em>th element is the price of a given stock on day <em>i</em>.</p>
<p>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times). However, you may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p>
</blockquote>
<h4 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h4><p>题目很绕……简单来说，可以将买卖股票看成一个单线程操作，股票看成一个具有时间线的任务，所以一次只能买进一支股票，经历股票的时间线后，再卖出。之后，可以再次买进另一支股票（<strong>买进的时间点必须在上一次卖出的时间点之后</strong>），然后经历当前股票的时间线后，再卖出，以此类推。</p>
<h4 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h4><p>基于Kadane’s Algorithm，稍微改动一下算法的实现即可——将<strong>相邻元素不为0的差值累加</strong>即可。</p>
<h4 id="我的解法"><a href="#我的解法" class="headerlink" title="我的解法"></a>我的解法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">    public int maxProfit(int[] prices) &#123;</div><div class="line">        int maxPro = 0;</div><div class="line">        for(int i = 1; i &lt; prices.length; i++) &#123;</div><div class="line">            maxPro += Math.max(0, prices[i] - prices[i-1]);</div><div class="line">        &#125;</div><div class="line">        return maxPro;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="大神解法"><a href="#大神解法" class="headerlink" title="大神解法"></a>大神解法</h4><p>简洁的解法都应用了Kadane’s Algorithm的思想，进行差值和累加。</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>Kadane’s Algorithm算法的思想对于Max Subarray问题以及相应的延伸问题的解答，可谓是立竿见影！</p>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>