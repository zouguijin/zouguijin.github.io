<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>leetcode628 Maximum Product of Three Numbers | StarSea</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><!-- gallery that comes before the header--><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a href="/" class="sidebar-nav-item active">Home</a><a href="/archives" class="sidebar-nav-item">Archives</a><a href="/about" class="sidebar-nav-item">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/array/">array</a><a class="post-tag-link" href="/tags/leetcode/">leetcode</a></div><div class="post-time">2017-09-22</div></div></div><div class="container post-header"><h1>leetcode628 Maximum Product of Three Numbers</h1></div><div class="container post-content"><h2 id="leetcode-628-Maximum-Product-of-Three-Numbers"><a href="#leetcode-628-Maximum-Product-of-Three-Numbers" class="headerlink" title="leetcode#628 Maximum Product of Three Numbers"></a>leetcode#628 Maximum Product of Three Numbers</h2><blockquote>
<p>Given an integer array, find three numbers whose product is maximum and output the maximum product.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;Input: [1,2,3]</div><div class="line">&gt;Output: 6</div><div class="line">&gt;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;Input: [1,2,3,4]</div><div class="line">&gt;Output: 24</div><div class="line">&gt;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<p><strong>Note:</strong></p>
<ol>
<li>The length of the given array will be in range [3,104] and all elements are in the range [-1000, 1000].</li>
<li>Multiplication of any three numbers in the input won’t exceed the range of 32-bit signed integer.</li>
</ol>
</blockquote>
<h4 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h4><p>给定一个整数数组，要求找到三个元素，使得这三个元素的乘积最大，输出最大的乘积值。</p>
<ul>
<li>给定数组的大小范围为：[3,104]，元素的范围为：[-1000,1000]；</li>
<li>上述给定的范围保证了任意三个元素的乘积不会溢出32位的整型范围。</li>
</ul>
<h4 id="我的解法"><a href="#我的解法" class="headerlink" title="我的解法"></a>我的解法</h4><p>意思不就是…找出数组中最大的三个数么？找到之后，让他们三个相乘，输出结果即可。</p>
<p>使用一个自带排序的数据结构，比如PriorityQueue（不能用Set，可能会有重复的元素），维持三个元素的大小，遍历所有元素，不断利用大的替换队列中小的元素，最终剩下的三个元素就是数组中最大的三个元素。</p>
<p>需要注意一点的是，可能会有负数，如果有偶数个负数相乘，就不能单纯让三个最大的元素相乘得结果了。</p>
<p>那么可以这么做：先对数组进行<strong>排序</strong>，从小到大，绝对值最大的两个负数（如果有的话），就会存在数组的头部两位，数组中最大的三个数，会存在数组的尾部三位，所以需要<strong>比较两个乘积</strong>：数组后三位的乘积，数组前两位与数组最后一位的乘积。</p>
<p>解法一：没有考虑数组中存在负数，单纯取数组中最大的三个数进行相乘。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">    public int maximumProduct(int[] nums) &#123;</div><div class="line">        int res = 1;</div><div class="line">        if(nums.length == 3) &#123;</div><div class="line">            for(int num : nums) &#123;</div><div class="line">                res *= num;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        else &#123;</div><div class="line">            PriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;Integer&gt;();</div><div class="line">            for(int num : nums) &#123;</div><div class="line">                queue.add(num);</div><div class="line">                if(queue.size() == 4) queue.poll();</div><div class="line">            &#125;</div><div class="line">            for(int i = 0; i &lt; 3; i++) &#123;</div><div class="line">               res *= queue.poll(); </div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>解法二：先排序，后获取两个乘积值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">    public int maximumProduct(int[] nums) &#123;</div><div class="line">        int res = 1;</div><div class="line">        if(nums.length == 3) &#123;</div><div class="line">            for(int num : nums) &#123;</div><div class="line">                res *= num;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        else &#123;</div><div class="line">            Arrays.sort(nums);</div><div class="line">            int tmp1 = nums[0]*nums[1]*nums[nums.length-1];</div><div class="line">            int tmp2 = nums[nums.length-1]*nums[nums.length-2]*nums[nums.length-3];</div><div class="line">            res = tmp1 &gt; tmp2 ? tmp1 : tmp2;</div><div class="line">        &#125;</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="大神解法"><a href="#大神解法" class="headerlink" title="大神解法"></a>大神解法</h4><p>解法一：先排序，后获取两个乘积值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public int maximumProduct(int[] nums) &#123;</div><div class="line">    </div><div class="line">     Arrays.sort(nums);</div><div class="line">     //One of the Three Numbers is the maximum value in the array.</div><div class="line">     int a = nums[nums.length - 1] * nums[nums.length - 2] * nums[nums.length - 3];</div><div class="line">     int b = nums[0] * nums[1] * nums[nums.length - 1];</div><div class="line">     return a &gt; b ? a : b;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>解法二：声势浩大的插入排序，只不过这个排序维持的只有最小的两个数和最大的三个数——所以思想是一样的：找到最小的两个数（考虑到有负数的情况，且可能绝对值较大）和最大三个数，再比较这两种乘积的大小。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">public int maximumProduct(int[] nums) &#123;</div><div class="line">    int max1 = Integer.MIN_VALUE, max2 = Integer.MIN_VALUE, max3 = Integer.MIN_VALUE, min1 = Integer.MAX_VALUE, min2 = Integer.MAX_VALUE;</div><div class="line">    for (int n : nums) &#123;</div><div class="line">        if (n &gt; max1) &#123;</div><div class="line">            max3 = max2;</div><div class="line">            max2 = max1;</div><div class="line">            max1 = n;</div><div class="line">        &#125; else if (n &gt; max2) &#123;</div><div class="line">            max3 = max2;</div><div class="line">            max2 = n;</div><div class="line">        &#125; else if (n &gt; max3) &#123;</div><div class="line">            max3 = n;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        if (n &lt; min1) &#123;</div><div class="line">            min2 = min1;</div><div class="line">            min1 = n;</div><div class="line">        &#125; else if (n &lt; min2) &#123;</div><div class="line">            min2 = n;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return Math.max(max1*max2*max3, max1*min1*min2);</div><div class="line">&#125;</div></pre></td></tr></table></figure></div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>